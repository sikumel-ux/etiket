<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Input Etiket | Mahika Trans</title>
<style>
body{
    font-family:'Poppins',sans-serif;
    background:linear-gradient(135deg,#0066AE,#FFD700);
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    margin:0;
}
.form-container{
    background:#fff;
    width:100%;
    max-width:450px;
    padding:25px;
    border-radius:16px;
    box-shadow:0 10px 25px rgba(0,0,0,.2);
}
h2{text-align:center;color:#0066AE;margin-bottom:20px;}
.input-group{margin-bottom:14px;}
label{display:block;font-size:13px;margin-bottom:4px;}
input{width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;font-size:14px;}
button{
    width:100%;padding:12px;background:#0066AE;color:#fff;font-weight:bold;border:none;border-radius:10px;cursor:pointer;
}
button:hover{opacity:.9;}
</style>
</head>
<body>

<div class="form-container">
<h2>Booking Tiket</h2>

<form id="bookingForm">
    <div class="input-group">
        <label>Nama</label>
        <input type="text" id="nama" required>
    </div>

    <div class="input-group">
        <label>No HP</label>
        <input type="text" id="no_hp" placeholder="08123456789" required>
    </div>

    <div class="input-group">
        <label>Armada</label>
        <input type="text" id="armada" required>
    </div>

    <div class="input-group">
        <label>Tujuan</label>
        <input type="text" id="tujuan" required>
    </div>

    <div class="input-group">
        <label>No Kursi</label>
        <input type="text" id="no_kursi" placeholder="11-12" required>
    </div>

    <div class="input-group">
        <label>Tanggal Keberangkatan</label>
        <input type="date" id="keberangkatan" required>
    </div>

    <div class="input-group">
        <label>Jam Keberangkatan</label>
        <input type="text" id="jam" placeholder="08:30 WIB" required>
    </div>

    <div class="input-group">
        <label>Harga (Rp)</label>
        <input type="number" id="harga" required>
    </div>

    <button type="submit">Booking</button>
</form>
</div>

<script>
document.getElementById("bookingForm").addEventListener("submit", async function(e){
    e.preventDefault();
    
    const kodeBooking = "MT-" + Date.now().toString().slice(-6);

    const data = {
        kode_booking: kodeBooking,
        nama: nama.value.trim(),
        no_hp: no_hp.value.trim(),
        armada: armada.value.trim(),
        tujuan: tujuan.value.trim(),
        no_kursi: no_kursi.value.trim(),
        keberangkatan: keberangkatan.value, // yyyy-mm-dd
        jam: jam.value.trim(),
        harga: harga.value
    };

    // Simpan ke LocalStorage untuk etiket.html
    localStorage.setItem("etiket_" + kodeBooking, JSON.stringify(data));

    // Redirect ke etiket
    window.location.href = "etiket.html?kode=" + kodeBooking;
});
</script>

</body>
</html>
